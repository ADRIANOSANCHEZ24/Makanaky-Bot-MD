import fetch from 'node-fetch'
const regex = /(?:https|git)(?::\/\/|@)github\.com[\/:]([^\/:]+)\/(.+)/i
let handler = async (m, { args, usedPrefix, command }) => {
if (!args[0]) throw 

`ğ€ğÌƒğ€ğƒğˆğ‘ ğ€ ğ†ğ‘ğ”ğğğ’ ğ€ ğğğ“ ğŒğ€ğŠğ€ğğ€ğŠğ˜ 

(ğŒğ„ğğ’ğ”ğ€ğ‹)
ğ™½ğš„ğ™¼ğ™´ğšğ™¾ ğ™³ğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ğš‚: 1
ğšˆğ™°ğ™¿ğ™´, ğ™¿ğ™»ğ™¸ğ™½: S/4 soles
ğ™³ğ™¸ğ™°ğ™¼ğ™°ğ™½ğšƒğ™´ğš‚: 200

(ğŒğ„ğğ’ğ”ğ€ğ‹)
ğ™½ğš„ğ™¼ğ™´ğšğ™¾ ğ™³ğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ğš‚: 3
ğšˆğ™°ğ™¿ğ™´, ğ™¿ğ™»ğ™¸ğ™½: S/10 soles
ğ™³ğ™¸ğ™°ğ™¼ğ™°ğ™½ğšƒğ™´ğš‚: 600


ğ€ğÌƒğ€ğƒğˆğ‘ ğ€ ğ†ğ‘ğ”ğğğ’ ğ€ ğğğ“ ğğ„ğ‘ğ’ğğğ€ğ‹ğˆğ™ğ€ğƒğ 

(ğŒğ„ğğ’ğ”ğ€ğ‹)
ğ™½ğš„ğ™¼ğ™´ğšğ™¾ ğ™³ğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ğš‚: 1
ğšˆğ™°ğ™¿ğ™´, ğ™¿ğ™»ğ™¸ğ™½: S/7 soles
ğ™³ğ™¸ğ™°ğ™¼ğ™°ğ™½ğšƒğ™´ğš‚: 600

(ğŒğ„ğğ’ğ”ğ€ğ‹)
ğ™½ğš„ğ™¼ğ™´ğšğ™¾ ğ™³ğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ğš‚: 3
ğšˆğ™°ğ™¿ğ™´, ğ™¿ğ™»ğ™¸ğ™½: S/15 soles
ğ™³ğ™¸ğ™°ğ™¼ğ™°ğ™½ğšƒğ™´ğš‚: 600`










if (!regex.test(args[0])) throw '*[â—ğˆğğ…ğâ—] ğ™»ğ™¸ğ™½ğ™º ğ™¸ğ™½ğ™²ğ™¾ğšğšğ™´ğ™²ğšƒğ™¾!*'
let [_, user, repo] = args[0].match(regex) || []
repo = repo.replace(/.git$/, '')
let url = `https://api.github.com/repos/${user}/${repo}/zipball`
let filename = (await fetch(url, { method: 'HEAD' })).headers.get('content-disposition').match(/attachment; filename=(.*)/)[1]
m.reply(`*[â—ğˆğğ…ğâ—] ğ™´ğš‚ğ™¿ğ™´ğšğ™´ ğš„ğ™½ ğ™¼ğ™¾ğ™¼ğ™´ğ™½ğšƒğ™¾ ğ™´ğ™½ ğ™»ğ™¾ ğš€ğš„ğ™´ ğ™´ğ™½ğš…ğ™¸ğ™¾ ğš‚ğš„ ğ™°ğšğ™²ğ™·ğ™¸ğš…ğ™¾, ğš‚ğ™¸ ğ™´ğš‚ğšƒğ™´ ğ™½ğ™¾ ğ™´ğš‚ ğ™´ğ™½ğš…ğ™¸ğ™°ğ™³ğ™¾ ğ™¿ğš„ğ™´ğ™³ğ™´ ğ™³ğ™´ğ™±ğ™´ğšğš‚ğ™´ ğ™° ğš€ğš„ğ™´ ğ™´ğ™» ğšğ™´ğ™¿ğ™¾ğš‚ğ™¸ğšƒğ™¾ğšğ™¸ğ™¾ ğ™´ğš‚ ğ™¼ğš„ğšˆ ğ™¿ğ™´ğš‚ğ™°ğ™³ğ™¾*`)
conn.sendFile(m.chat, url, filename, null, m)
}
handler.help = ['gitclone <url>']
handler.tags = ['downloader']
handler.command = /precios/i
export default handler
